---
title: 第四章 复合类型 4.3string
date: 2025-12-10 17:00:00
tags: [C++笔记]
categories: [C++笔记]
cover: 
description: 阿稳第十三期视频笔记，4.3
---
# C++ primer plus 笔记-第十三期


## 第四章 复合类型-string类简介
要使用string类，必须在程序中包含头文件string。
```cpp
#include<iostream>
#include<string>
int main()
{
	using namespace std;
	char charr1[20];
	char charr2[20] = "jiajia";
	string str1;
	string str2 = "panther";
	cout<<"enter another kond of feline: ";
	cin>>charr1;
	cout<< "enter another kond of feline: ";
	cin>>str1;
	cout<<"here are some feline:\n";
	cout<<charr1<<" "<<charr2<<" "<<str1<<" "<<str2<<endl;
	cout<<"the third letter in "<<charr2<<" is "<<charr2[2]<<endl;
	cout<<"the third letter in "<<str2<<" is "<<str2[2]<<endl;
	return 0;
}
```
从上面的示例可以看出string和字符数组相同。
- 都可以c风格初始化；
- 可与使用cin储存到string；
- 可以使用cout显示；
- 可以使用数组表示来访问储存在string对象中。
### 4.3.2 赋值、拼接和附加
> string比数组简单，例如，不能将一个数组赋给另一个数组，但可以将一个string赋给另一个string。
```cpp
char charr1[20];
char charr2[20]="jiajia";
string str1;
string str2="panther";
charr1=charr2;
str1=str2;
```
合并
```cpp
string str3;
str3 = str1 + str2;
str1 += str2;
```
演示程序：
```cpp
#include <iostream>
#include <string>
int main()
{
	using namespace std;
	string s1 = "pungin";
	string s2, s3;
	cout << "u can assign one string obiect to another:s2 = s1\n";
	s2=s1;
	cout << "s1 :" << s1 << ", s2:" << s2 << endl;
	cout <<"u can assign a c-type to a string object.\n";
	cout<<"s2=\"buzzard\"\n";
	s2 = "buzzard";
	cout <<"s2:"<<s2<<endl;
	cout <<"u can concatenate strings:s3=s1+s3\n";
	s3=s1+s2;
	cout<<"s3:"<<s3<<endl;
	cout<<"u can append strings\n";
	s1 += s2;
	cout <<"s1 += s2 yields s1="<<s1<<endl;
	s2+=" for a day ";
	cout <<"s2 += \"for a day\" yeilds s2=  "<<s2<<endl; 
	return 0;
}
```
输出以下：
```text
u can assign one string obiect to another:s2 = s1
s1 :pungin, s2:pungin
u can assign a c-type to a string object.
s2="buzzard"
s2:buzzard
u can concatenate strings:s3=s1+s3
s3:punginbuzzard
u can append strings
s1 += s2 yields s1=punginbuzzard
s2 += "for a day" yeilds s2=  buzzard for a day
```
### 4.3.3 string类的其他操作
新增string类之前要完成字符串赋值，可用C语言库里的函数，头文件cstring提供这些函数，例如，可以使用strcpy（）将字符串赋值到字符数组中，使用strcat（）将字符串附加到数组末尾。
```cpp
#include <iostream>
#include <string>
#include <cstring>//提供stringcopy
#pragma warning (disable:4996) 
int main()
{
	using namespace std;
	char charr1[20];
	char charr2[20]="apple";
	string str1;
	string str2="panther";
	str1=str2;
	strcpy (charr1,charr2);
	//cout << str1<<" "<<charr1<<endl;
	str1 += " paste";
	strcat(charr1 ," juice");
	//cout<<str1 <<" "<<charr1<<endl;
	//strcat(charr1, charr2);
	//cout << charr1 << endl;
	int len1 = str1.size();   //成员方法string
	int len2 = strlen(charr1);//strlen()计算有效长度
	cout<< "the string "<<str1<<" contains "<<len1<<" character\n";
	cout << "the string " << charr1 << " contains " << len2 << " character\n";
	cout <<charr1<<" " << sizeof(charr1)<<" character" << endl;
	return 0;
}
```
输出如下：
```text
the string panther paste contains 13 character
the string apple juice contains 11 character
apple juice 20 character
```
> string 赋值较为简单相对于字符串用库里的函数赋值来说。
> string只需简单的相加，但是字符串却需要strcpy（）和strcat（）。
> string类有自动调整大小的功能不会有覆盖相邻的内存的风险。
> 