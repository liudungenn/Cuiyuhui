---
title: 第三章数据处理3
date: 2025-12-10 17:00:00
tags: [C++笔记]
categories: [C++笔记]
cover: 
description: 阿稳第九期视频笔记
---
# C++ primer plus 笔记-第九期

- 第三章数据处理3

## 数据处理
### 类型转换 
- 将一种算数类型的值赋给另一种算数类型的变量时，C++将对值进行转换；
- 表达式中包含不同的类型时，C++将会对值进行转换；
- 将参数传递给函数时，C++将会对值进行转换。
```cpp
#include <iostream>
int main(void)
{
    using namespace std;
    cout.setf(ios_base::fixed,  ios_base::floatfield);
    float tree = 3;
    cout <<"tree="<<tree <<endl;
    int guess = 3.9832;
    cout << "guess=" << guess << endl;
    int debt =7.2e12;
    cout << "debt=" << debt << endl;
    return 0;
}
```
```text
tree=3.000000
guess=3
debt=1634811904
```
>**初始化表**不允许缩窄，**变量**的类型可能无法表示赋给它的值。

```cpp
const int code = 66;
int x = 66;
char c1 = {31325};
char c2 = {66};
char c3 = {code};
char c4 = {x};
y = 32325;
char c5 = x;
```
|c1|c2|c3|c4|c5|
|:-------:|:------:|:------:|:------:|:-----:|
|×      |√      |√       |×      |×      |
|  缩短  | 未缩短 |常量未缩短|变量  |非初始化|

### 表达式中的转换
```cpp
short ji = 20;
short ya = 35;
short all = ji + ya;
```
实际上上面这一串代码不是简单的将20和35相加，而是将鸡的20赋给短整型，鸭的35赋给短整型，两个短整型相加赋给all这个短整型。
int最少是两个字节，short是两个字节，当二者长度一致时无符号短整型unsigned short可转换成无符号整型unsigned int，如果int长度大于short则unsigned short则转换成int，确保unsigned short进行提升时不会损失数据。
### 强制类型转换
```text
(long) debt
long (debt)
```
>强制转换不会修改debt本身，而是创建一个新的、指定类型的值，可以在表达式中使用这个值。

*强制转换格式如下：*
```text
(typename) value 
tapename (value)
```
```cpp
#include <iostream>
int main(void)
{
    using namespace std;
   int auks,bats,coots;
   auks = 19.99 +11.99;
   cout<<"auks="<<auks<<endl;
   bats = (int)19.99 + (int)11.99;
   cout << "bats=" << bats << endl;
   char ch = 'E';
   cout <<"ch="<<ch <<endl;
   cout <<int(ch)<<endl;
   cout<<static_cast <int>(ch)<<endl;
    return 0;
    
    }
```
```text
auks=31
bats=30
ch=E
69
69
```
###     C++11中的auto声明

如果使用关键字auto，而不指定变量的类型，编译器会把变量的类型设置成与初始值相同。
```cpp
auto n = 100; //n is int
auto x = 1.5; //x is double
auto y = 1.32e12L; //y is long double
```


   
