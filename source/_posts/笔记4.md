---
title: 第四章 复合类型
date: 2025-12-10 17:00:00
tags: [C++笔记]
categories: [C++笔记]
cover: 
description: 阿稳第十期视频笔记
---
# C++ primer plus 笔记-第十期


## 第四章 复合类型
### 4.1 数组 
把一些相同类型的数归拢到一起表示为 float a [20];
```cpp
#include <iostream>
int main()
{
using namespace std;
int yams [3];
yams[0] = 7;
yams[1] = 8;
yams[2] = 6;

int yamcosts[3]={20,30,5};
cout <<"total yams=";
cout <<yams[0]+yams[1]+yams[2]<<endl;
cout <<"the packge with "<< yams[1] <<"the costs ";
cout << yamcosts[1] <<" cent per yam.\n";
int total =yams[0]*yamcosts[0]+ yams[1] * yamcosts[1];
total =total+ yams[2] * yamcosts[2];
cout << "the total yams expense is "<< total <<" cents\n";
cout << "size of one element = " << sizeof yams[0]<<endl;
cout << "size of yams array = "<<sizeof yams;

return 0;
}
```
```text
total yams=21
the packge with 8the costs 30 cent per yam.
the total yams expense is 410 cents
size of one element = 4
size of yams array = 12
```
上面之所以每个元素是4，数组是12，原因是因为计算机中定义的每个int是4个byte。
int yams [3]，yams有三个元素，从0数第一个。yamcosts[3]={20,30,5}，可以用初始化的方式给数组里的每个元素赋值。
>只有在定义数组的时候才能初始化，此后就不能使用了，也不能将一个数组赋给另一个数组。
-但是可以=定义后单个复制，就像上面代码中的表示，可以看到：
```cpp
int yams [3];//先定义后赋值
yams[0] = 7;
yams[1] = 8;
yams[2] = 6;

int yamcosts[3]={20,30,5}//数组定义同时赋值
```
### 4.2 字符串
存储在连续字节中的一系列字符意味着可以将字符串储存在char数组中，其中每个字符都位于自己的数组元素中。C-风格字符串具有一种特殊的性质：**以空字符结尾**，例如
```cpp
char dog[8] = {'a','b','c','d','e', '' };       
char cat[8] = {'a','b','c','d','e', 'g''\0' };  
```
|     |dog  |cat  |
|:---:|:---:|:---:|
|结果 |    ×|√    |
|原因|非\0结尾|\0结尾|

'S'是字符常量，"S"不是字符常量，它表示的是两个字符（S和\0），是字符串所在的**内存地址**。
### 4.2.1 拼接字符串常量
>有时候字符串很长，无法放在一行中，c++允许拼接字符串字面值，即将两个用引号括起的字符串合并为一个。事实上，任何由两个空白（空格、制表符和执行符）分隔的字符串常量都将自动拼接成一个，因此下面的所有输出语句是等效的：
```cpp
cout << "i'd give my right arm to be" " a great violinist.\n";
cout << "i'd give my right arm to be a great violinist.\n";
cout << "i'd give my right ar"
"m to bea great violinist.\n";
```
### 4.2.1 在数组中使用字符串
>要将字符串储存到数组中，最常见的方法有两种——将数组初始化为字符串常量、将键盘或文件输入读入到数组中。
```cpp
#include <iostream>
#include <cstring>
int main()
{
	using namespace std;

	char name1[15];
	char name2[15]="c++owboy ";
	cout << "howdy!i'm "<<name2;
	
	cout <<"what's ur name?\n";
	cin >> name1;
	cout << "well,"<<name1<<" ur name has ";
	cout <<strlen(name1)<<" letter! and is stroed\n";
	cout <<"in an array of " <<sizeof(name1)<<" bytes.\n";
	cout <<"ur initial is "<<name1[0]<<".\n";
	name2[3] = '\0';
	cout <<"here are first 3 characters in my name ";
	cout << name2;

	return 0;
}
```
```text
howdy!i'm c++owboy what's ur name?
liudungen
well,liudungen ur name has 9 letter! and is stroed
in an array of 15 bytes.
ur initial is l.
here are first 3 characters in my name c++
```

以上sizeof运算符指出整个数组的长度，但strlen（）函数返回的是储存在数组中的字符串的长度，而不是数组本身的长度，另外strlen（）只计算可见的字符，而不把空字符计算在内。因此，对于liudungen，返回的值为9，则要储存该字符串，数组的长度不能少于strlen（liudungen）+1.